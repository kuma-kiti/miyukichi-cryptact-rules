å®Œç’§ã§ã™ã€‚ã‚ãªãŸã®ã€ŒğŸ§ ã¿ã‚†ãã¡å¼ãƒ«ãƒ¼ãƒ«ã€ã¯ã™ã§ã«éå¸¸ã«ä½“ç³»çš„ãªã®ã§ã€
ã“ã‚Œã‚’ãã®ã¾ã¾**å›½éš›çš„ã«é€šã˜ã‚‹æ­£ç¢ºãªè‹±èªç‰ˆ**ã¨ã—ã¦ç¿»è¨³ã—ã¾ã™ã€‚
Cryptactãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆä»•æ§˜ã«å³ã—ãŸç”¨èªï¼ˆPnL, fee, rebate, funding, realized profit/lossï¼‰ã§çµ±ä¸€ã—ã¾ã—ãŸã€‚

---

# ğŸ§  **Miyukichi Standard for Cryptact Formatting**

**[Complete Integrated Version + Fee-Explicit Edition | Updated Oct 21, 2025]**

---

## ğŸ”¹ Common Rules

1. **Read numbers exactly as shown** â€” no rounding, no interpretation (error tolerance Â±0 is strictly prohibited).
   *Note: Copy what you see. Only add when summing; never â€œcorrectâ€ numbers.*
2. **If both PnL and Fee are 0, skip the row.**
3. **Sort transactions chronologically (ascending by timestamp).**
4. **Output format:** No header, tab-delimited (Excel-compatible).
5. **Set the margin currency accurately for each source.**
6. **Datetime format:** `YYYY/MM/DD HH:mm:ss`

---

## ğŸ’° **GRVT Rules** (USDT-based Derivatives)

* **Source:** GRVT
* **Base currency:** USDT
* **Fee currency:** USDT

### Recording Principles

1. *Realized PnL does **not** include fees.*
2. *The â€œFeeâ€ field must be recorded separately as a fee row (LOSS). Never combine with PnL.*
3. *If Realized PnL > 0 â†’ record as **BONUS** (Realized Profit).*
   *If Realized PnL < 0 â†’ record as **LOSS** (Realized Loss).*
4. *If Fee < 0 â†’ record as **BONUS** (Maker Rebate). Quantity = rebate amount. Comment: â€œMaker Rebateâ€.*
5. *If Fee > 0 â†’ record as **LOSS** (Fee Payment). Quantity = fee amount. Comment: â€œFeeâ€.*
6. *Funding reward:*

   * Positive â†’ **BONUS** (â€œFunding Receivedâ€)
   * Negative â†’ **LOSS** (â€œFunding Paymentâ€)
7. *If both PnL = 0 and Fee = 0 â†’ skip the record.*
8. *Sort all outputs in chronological ascending order.*

---

## ğŸ’µ **Pacifica Rules**

* **Source:** Pacifica
* **Margin currency:** USDC
* *Realized PnL already includes fees.*
* *Fee field is always 0.*
* *Funding reward:* + â†’ BONUS, âˆ’ â†’ LOSS.
* *Maker rebate:* Add an extra BONUS row.
* *If both PnL and Fee are 0 â†’ skip.*

---

## ğŸ’ **Hyperliquid (Hype) Rules**

* **Source:** Hyperliquid
* **Margin currency:** USDC
* *Closed PnL already includes fees (final net result).*
* *Fee field is always 0.*
* *Funding reward:* + â†’ BONUS, âˆ’ â†’ LOSS.
* *Maker rebate:* Add an extra BONUS row.
* *If both PnL and Fee are 0 â†’ skip.*

---

## ğŸ“˜ **GRVT Fee Verification Checklist**

(Optional â€” see separate document.)

---

## ğŸ§¾ **Daily Aggregation Rules**

1. The user enters **â€œ0â€** to trigger *Formatting Mode.*
   â†’ AI replies: â€œEntered Formatting Mode.â€
2. Paste the raw **trade history** of GRVT / Pacifica / Hype directly.
3. The AI automatically performs:

   * PnL sign check â†’ determine BONUS or LOSS
   * Fee < 0 â†’ add BONUS (Maker Rebate)
   * Fee > 0 â†’ add LOSS (Fee Payment)
   * Skip rows where PnL = 0 and Fee = 0
4. Finally, output **only the summarized results** for
   BONUS / LOSS / Rebate / Fee
   (in Cryptact tab-delimited format, no intermediate data).

---

### âœ… Example Output (GRVT | Fee-Explicit Style)

```
2025/10/20 23:59:59	BONUS	GRVT	USDT	0.66		JPY	0	USDT	æ—¥æ¬¡ æ±ºæ¸ˆåˆ©ç›Šé›†è¨ˆ (2025-10-20)
2025/10/20 23:59:59	LOSS	GRVT	USDT	0.63		JPY	0	USDT	æ—¥æ¬¡ æ±ºæ¸ˆæå¤±é›†è¨ˆ (2025-10-20)
2025/10/20 23:59:59	BONUS	GRVT	USDT	0.05		JPY	0	USDT	æ—¥æ¬¡ Funding Received é›†è¨ˆ (2025-10-20)
2025/10/20 23:59:59	LOSS	GRVT	USDT	0.03		JPY	0	USDT	æ—¥æ¬¡ Funding Payment é›†è¨ˆ (2025-10-20)
2025/10/20 18:32:05	BONUS	GRVT	USDT	0.001887	JPY	0	USDT	ãƒ¡ã‚¤ã‚«ãƒ¼ãƒªãƒ™ãƒ¼ãƒˆ é›†è¨ˆ (2025-10-20)
2025/10/20 23:59:59	LOSS	GRVT	USDT	0.16011		JPY	0	USDT	æ‰‹æ•°æ–™ é›†è¨ˆ (2025-10-20)

---

## ğŸ§© **Checkpoints (for AI self-verification)**

â˜‘ When **Fee** is negative, a **BONUS (Maker Rebate)** line is added correctly.  
â˜‘ When **Fee** is positive, a **LOSS (Fee)** line is added correctly.  
â˜‘ When **Funding** is positive, it is recorded as **BONUS (Funding Received)**.  
â˜‘ When **Funding** is negative, it is recorded as **LOSS (Funding Payment)**.  
â˜‘ Rows where both **PnL = 0** and **Fee = 0** are omitted.  
â˜‘ All entries (**BONUS / LOSS / Rebate / Fee**) are sorted in **chronological (ascending)** order.  
â˜‘ Daily or period-end summaries output in **6 categories**:  
  **(1)** Profit, **(2)** Loss, **(3)** Funding Received, **(4)** Funding Payment, **(5)** Maker Rebate, **(6)** Fee.  
â˜‘ **Categories that do not exist are not shown** â€” non-existent divisions are omitted (no empty placeholders).  

---
---

